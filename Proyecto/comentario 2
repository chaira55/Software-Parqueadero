import java.util.ArrayList;
import java.util.Date;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        Servicio servicio = new Servicio();

        while (true) {
            System.out.println("Menú de Servicio");
            System.out.println("1. Registrar Servicio de Lavado de Auto");
            System.out.println("2. Crear Punto de Carga para Vehículo Eléctrico");
            System.out.println("3. Actualizar Punto de Carga para Vehículo Eléctrico");
            System.out.println("4. Registrar Punto de Carga para Vehículo Eléctrico");
            System.out.println("5. Eliminar Punto de Carga para Vehículo Eléctrico");
            System.out.println("6. Consultar Puntos de Carga para Vehículo Eléctrico Disponibles");
            System.out.println("7. Asignar Punto de Carga para Vehículo Eléctrico");
            System.out.println("8. Crear Servicio Adicional");
            System.out.println("9. Actualizar Servicio Adicional");
            System.out.println("10. Registrar Servicio Adicional");
            System.out.println("11. Eliminar Servicio Adicional");
            System.out.println("12. Consultar Servicio Adicional");
            System.out.println("13. Consultar Saldo de Cliente");
            System.out.println("14. Cancelar Servicio");
            System.out.println("15. Desocupar Punto de Carga");
            System.out.println("16. Agregar Cliente");
            System.out.println("0. Salir");
            System.out.print("Seleccione una opción: ");
            int opcion = scanner.nextInt();
            scanner.nextLine();

            switch (opcion) {
                case 1:
                    System.out.print("Ingrese el nombre del cliente: ");
                    String cliente = scanner.nextLine();
                    System.out.print("Ingrese el tipo de lavado: \n1. Lavado Básico\n2. Lavado Completo\n");
                    int tipoLavado = scanner.nextInt();
                    servicio.registrarServicioLavadoAuto(cliente, tipoLavado, new Date());
                    break;
                case 2:
                    System.out.print("Ingrese la ubicación del punto de carga: ");
                    String ubicacion = scanner.nextLine();
                    System.out.print("Ingrese la capacidad del punto de carga: ");
                    int capacidad = scanner.nextInt();
                    servicio.crearPuntoCargaEV(ubicacion, capacidad);
                    break;
                case 3:
                    System.out.print("Ingrese la ubicación del punto de carga a actualizar: ");
                    ubicacion = scanner.nextLine();
                    System.out.print("El punto de carga está ocupado (true/false): ");
                    boolean ocupado = scanner.nextBoolean();
                    servicio.actualizarPuntoCargaEV(ubicacion, ocupado);
                    break;
                case 4:
                    System.out.print("Ingrese la ubicación del punto de carga a registrar: ");
                    String ubicacionPuntoCarga = scanner.nextLine();
                    System.out.print("Ingrese la capacidad del punto de carga: ");
                    int capacidadPuntoCarga = scanner.nextInt();
                    servicio.crearPuntoCargaEV(ubicacionPuntoCarga, capacidadPuntoCarga);
                    break;
                case 5:
                    System.out.print("Ingrese la ubicación del punto de carga a eliminar: ");
                    ubicacion = scanner.nextLine();
                    servicio.eliminarPuntoCargaEV(ubicacion);
                    break;
                case 6:
                    ArrayList<PuntoCargaEV> puntosDisponibles = servicio.consultarPuntosCargaEVDisponibles();
                    System.out.println("Puntos de carga disponibles:");
                    for (PuntoCargaEV puntoCarga : puntosDisponibles) {
                        System.out.println("Ubicación: " + puntoCarga.getUbicacion() + ", Capacidad: " + puntoCarga.getCapacidad());
                    }
                    break;
                case 7:
                    System.out.print("Ingrese la ubicación del punto de carga a asignar: ");
                    ubicacion = scanner.nextLine();
                    boolean asignado = servicio.asignarPuntoCargaEV("nombreCliente", ubicacion);
                    if (asignado) {
                        System.out.println("Punto de carga asignado correctamente.");
                    } else {
                        System.out.println("No se pudo asignar el punto de carga.");
                    }
                    break;
                case 8:
                    System.out.print("Ingrese el nombre del cliente: ");
                    String nombreSA = scanner.nextLine();
                    System.out.println("¿Qué servicio adicional desea?");
                    System.out.println("1. Encerar auto");
                    System.out.println("2. Descontaminación");
                    System.out.println("3. Aromatización");
                    System.out.println("4. Cambio de aceite");
                    int op = scanner.nextInt();
                    servicio.crearServicioAdicional(nombreSA, op);
                    break;
                case 9:
                    System.out.print("Ingrese el nombre del servicio adicional a actualizar: ");
                    String nombre = scanner.nextLine();
                    scanner.nextLine();
                    System.out.println("Ingrese el nuevo valor del servicio adicional");
                    float tarifaUso = scanner.nextFloat();
                    servicio.actualizarServicioAdicional(nombre, tarifaUso);
                    break;
                case 10:
                    System.out.print("Ingrese el nombre del servicio adicional a registrar: ");
                    nombreSA = scanner.nextLine();
                    System.out.println("Ingrese el número del servicio adicional (1, 2, 3, o 4):");
                    int idServicioAdicional = scanner.nextInt();
                    scanner.nextLine();
                    servicio.registrarServicioAdicional(nombreSA, idServicioAdicional);
                    break;                
                case 11:
                    System.out.print("Ingrese el nombre del servicio adicional a eliminar: ");
                    int id = scanner.nextInt();
                    servicio.eliminarServicioAdicional("nombreCliente", id);
                    break;
                case 12:
                    System.out.print("Ingrese el ID del servicio adicional a consultar: ");
                    id = scanner.nextInt();
                    ServicioAdicional sa = servicio.consultarServicioAdicional(id);
                    if (sa != null) {
                        System.out.println("Servicio Adicional encontrado:");
                        System.out.println("ID: " + sa.getId() + ", Nombre: " + sa.getNombre() + ", Tarifa de Uso: " + sa.getTarifaUso());
                    } else {
                        System.out.println("No se encontró un Servicio Adicional con el ID proporcionado.");
                    }
                    break;
                    case 13:
                    System.out.print("Ingrese el nombre del cliente para consultar el saldo: ");
                    String nombreClienteConsulta = scanner.nextLine();
                    System.out.println("Saldo actual del cliente: $" + servicio.getSaldoCliente(nombreClienteConsulta));
                    break;
                case 14:
                    System.out.print("Ingrese el nombre del cliente: ");
                    String clienteCancelacion = scanner.nextLine();
                    System.out.print("Ingrese la descripción del servicio a cancelar: ");
                    String descripcion = scanner.nextLine();
                    servicio.cancelarServicio(clienteCancelacion, descripcion);
                    break;
                case 15:
                    System.out.print("Ingrese el nombre del cliente: ");
                    String nombreCliente = scanner.nextLine();
                    System.out.print("Ingrese la ubicación del punto de carga a desocupar: ");
                    String ubicacionDesocupar = scanner.nextLine();
                    servicio.desocuparPuntoCargaEV(nombreCliente,ubicacionDesocupar);
                    break;
                case 16:
                    System.out.print("Ingrese el nombre del cliente: ");
                    String nombreNuevoCliente = scanner.nextLine();
                    System.out.print("Ingrese el tipo de vehículo: ");
                    String tipoVehiculoNuevoCliente = scanner.nextLine();
                    System.out.print("Ingrese el saldo inicial del cliente: ");
                    float saldoNuevoCliente = scanner.nextFloat();
                    servicio.agregarCliente(nombreNuevoCliente, tipoVehiculoNuevoCliente, saldoNuevoCliente);
                    break;
                
                case 0:
                    System.out.println("Saliendo del programa.");
                    scanner.close();
                    System.exit(0);
                default:
                    System.out.println("Opción no válida. Por favor, seleccione una opción válida.");
                    break;
            }
        }
    }
}
